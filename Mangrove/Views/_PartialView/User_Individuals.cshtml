@using Mangrove.Data
@model List<TblIndividual>

@{
    if (Model.Count() > 0)
    {
        long stt = 0;
        foreach (var item in Model)
        {
            stt += 1;

            <div class="px-lg-1 py-1 col-12 col-lg-6">
                <div class="individual_item border d-lg-flex flex-lg-wrap w-100 rounded-1 overflow-hidden">
                    <div class="top col-12 p-2 d-flex justify-content-between align-items-center">
                        <div class="id_title">
                            <span>#@stt &nbsp;|</span>
                            <a class="a_link" href='@Url.Action("Page_Individual", "Home", new { id = @item.Id })'
                                title="To the individual">@item.UpdateLast.ToString("dd/MM/yyyy").Replace("-", "/")</a>
                        </div>

                        <div>
                            <span>
                                @item.View &nbsp;
                                <i class="fa-solid fa-eye" title="Viewer"></i>
                                &nbsp;|&nbsp;
                            </span>
                            <span>Giai đoạn: @item.TblStages.Count()</span>
                        </div>
                    </div>

                    <div class="bottom col-12 p-2 d-flex justify-content-between align-items-center">
                        <span>@item.Position</span>
                        <button class="toggleQR px-3 py-1 border-none rounded-1" title="See QR code">
                            QR
                        </button>
                    </div>

                    <div class="frame_qr text-center col-12 overflow-hidden">
                        <img class="h-100 click_show_image rounded-1 hover_scale time_delay_500ms"
                            src='@Url.Content($"~/img/qr-img/" + @item.QrName)' alt="">
                    </div>
                </div>
            </div>
        }
    }
    else
    {
        <p class="text-center col-12 pb-2">Không tìm thấy cá thể nào !</p>
    }
}